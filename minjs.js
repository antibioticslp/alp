var correctAnswerInfo,correctAnswerDrugName,correctAnswerDrugClass,correctAnswer,numOfPossibleAnswers,incorrectAnswers,allAnswers,insertLocation,form,answerChecked,randomQuestionType,antibiotics={penicillin:{name:"Penicillin",drugs:["penicillin G"]},penicillinaseResistantPenicillin:{name:"Penicillinase Resistant Penicillin",drugs:["methicillin","nafcillin","oxacillin","dicloxacillin"]},antiPseudomonalPenicillins:{name:"Anti-Pseudomonal Penicillin",drugs:["ticarcillin","carbenicillin","piperacillin","mezlocillin"]},firstGenerationCephalosporin:{name:"First Generation Cephalosporin",drugs:["cefazolin","cephalexin"]},secondGenerationCephalosporin:{name:"Second Generation Cephalosporin",drugs:["cefuroxime","cefaclor","cefprozil"]},cephamycins:{name:"Cephamycin",drugs:["cefotetan","cefoxitin"]},thirdGenerationCephalosporin:{name:"Third Generation Cephalosporin",drugs:["cefotaxime","cefixime","cefdinir","ceftibuten","ceftazidime","ceftriaxone","cefpodoxime proxetil","cefditoren pivoxil"]},fourthGenerationCephalosporin:{name:"Fourth Generation Cephalosporin",drugs:["cefepime"]},fifthGenerationCephalosporin:{name:"Fifth Generation Cephalosporin",drugs:["ceftaroline fasamil","ceftolozane"]},carbapenem:{name:"Carbapenem",drugs:["imipenem","meropenem","doripenem","ertapenem"]},monobactam:{name:"Monobactam",drugs:["aztreonam"]},glycopeptide:{name:"Glycopeptide",drugs:["vancomycin"]},lipoglycopeptide:{name:"Lipoglycopeptide",drugs:["telavancin","dalbavancin","oritavancin"]},betaLactamseInhibitor:{name:"Beta-lactamse Inhibitor",drugs:["clavulanic acid","sulbactam","tazobactam"]},oxazolidinone:{name:"Oxazolidinone",drugs:["linezolid","tedizolid"]},macrolide:{name:"Macrolide",drugs:["erythromycin","clarithromycin","azithromycin","fidaxomicin"]},ketolide:{name:"Ketolide",drugs:["telithromycin"]},streptogramin:{name:"Streptogramin",drugs:["quinupristin","dalfopristin"]},tetracycline:{name:"Tetracycline",drugs:["doxycycline","tetracycline","minocycline","demeclocycline"]},glycylcyclines:{name:"Glycylcycline",drugs:["tigecycline"]},aminoglycoside:{name:"Aminoglycoside",drugs:["streptomycin","gentamicin","tobramycin","amikacin","neomycin","paromomycin","kanamycin","netilmicin"]},fluoroquinolone:{name:"Fluoroquinolone",drugs:["moxifloxacin","ciprofloxacin","enoxacin","ofloxacin","pefloxacin","gatifloxacin","gemifloxacin","levofloxacin"]},sulfonamide:{name:"Sulfonamide",drugs:["sulfamethoxazole"]},benzylpyrimidine:{name:"Benzylpyrimidine",drugs:["trimethoprim"]},polymyxin:{name:"Polymyxin",drugs:["polymyxin B","colistin"]}},button=document.getElementById("checkAnswerButton"),correctAnswerCounter=0,incorrectAnswerCounter=0,correctAnswerColor="#6cd140",incorrectAnswerColor="#f74f4f",highlightSelectedColor="#07c9ff";function newQuestion(){answerChecked=!1,button.innerText="Check Answer",randomQuestionType=Math.floor(2*Math.random()),numOfPossibleAnswers=4,correctAnswerInfo=generateCorrectAnswer(),correctAnswerDrugName=correctAnswerInfo[0],correctAnswerDrugClass=correctAnswerInfo[1],correctAnswer=randomQuestionType?correctAnswerDrugName:correctAnswerDrugClass.name,console.log(correctAnswerDrugName),console.log(correctAnswerDrugClass),incorrectAnswers=generateIncorrectAnswers(),console.log(incorrectAnswers),allAnswers=incorrectAnswers.slice(),insertLocation=Math.floor(Math.random()*(incorrectAnswers.length+1)),console.log(insertLocation),allAnswers.splice(insertLocation,0,correctAnswer),console.log(allAnswers),document.getElementById("question").innerHTML=randomQuestionType?"Which of these falls within the "+correctAnswerDrugClass.name+" class?":capitalize(correctAnswerDrugName)+" falls within which class?",form=document.getElementById("form");for(var e=0;e<allAnswers.length;e++)form.appendChild(makeRadioButtons("answers",allAnswers[e],allAnswers[e],e))}function clearOldQuestion(){button.style.visibility="hidden";for(var e=document.getElementsByClassName("answerButtons");e[0];)e[0].parentNode.removeChild(e[0])}function makeRadioButtons(e,n,r,o){var t='<input type="radio" onclick="showButton();highlightSelected();" value="'+n+'" name="'+e+'"/><span id="span'+o+'">'+r+"</span>",i="answer"+o,c=document.createElement("label");return c.className="answerButtons",c.id=i,c.innerHTML=t,c}function showButton(){button.style.visibility="visible"}function clickButton(){answerChecked?(clearOldQuestion(),newQuestion()):checkAnswer()}function checkAnswer(){for(var e,n,r,o=document.getElementsByName("answers"),t=0;t<o.length;t++)o[t].checked&&(e=o[t].value,n=t),o[t].value===correctAnswer&&(r=t);console.log(n);for(t=0;t<o.length;t++)o[t].disabled=!0;var i=document.getElementById("span"+r),c=document.getElementById("span"+n);i.style.backgroundColor=correctAnswerColor,e===correctAnswer?correctAnswerCounter++:(c.style.backgroundColor=incorrectAnswerColor,incorrectAnswerCounter++),document.getElementById("correctAnswerCounter").innerHTML="Correct: "+correctAnswerCounter,document.getElementById("incorrectAnswerCounter").innerHTML="Incorrect: "+incorrectAnswerCounter,answerChecked=!0,button.innerText="Next Question"}function highlightSelected(){for(var e=document.getElementsByName("answers"),n=0;n<e.length;n++){var r="span"+n,o=document.getElementById(r);e[n].checked?o.style.backgroundColor=highlightSelectedColor:o.style.backgroundColor="lightgray"}}function capitalize(e){return e.charAt(0).toUpperCase()+e.slice(1)}function generateCorrectAnswer(){var e=Object.keys(antibiotics),n=antibiotics[e[Math.floor(e.length*Math.random())]];return[n.drugs[Math.floor(n.drugs.length*Math.random())],n]}function generateIncorrectAnswers(){var e=Object.keys(antibiotics),n=[],r=[];e.forEach(function(e){antibiotics[e].name!=correctAnswerDrugClass.name&&(randomQuestionType?n.push(antibiotics[e].drugs):n.push(antibiotics[e].name))});for(var o=0;o<n.length;o++)r=r.concat(n[o]);return chooseRandomIncorrect(r.slice())}function chooseRandomIncorrect(e){var n=[];e.length<numOfPossibleAnswers&&(numOfPossibleAnswers=e.length);for(var r=0;r<numOfPossibleAnswers;r++){var o=Math.floor(e.length*Math.random());n.push(e[o]),e.splice(o,1)}return n}document.getElementById("correctAnswerCounter").innerHTML="Correct: "+correctAnswerCounter,document.getElementById("incorrectAnswerCounter").innerHTML="Incorrect: "+incorrectAnswerCounter,newQuestion();var passInput=document.getElementById("passText");function checkPassword(){var e=passInput.value;"c2hlZWh5"===btoa(e)?document.getElementById("passFormContainer").style.display="none":document.getElementById("incorrectPasswordText").style.visibility="visible"}passInput.addEventListener("keyup",function(e){e.preventDefault(),13===e.keyCode&&document.getElementById("checkPass").click()});